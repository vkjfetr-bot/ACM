USE [XStudio_DOW]
GO

/****** Object:  View [dbo].[XStudio_Equipment_Tag_Mst_Vw]    Script Date: 28-10-2025 13:56:36 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE OR ALTER   VIEW [dbo].[XStudio_Equipment_Tag_Mst_Vw] as SELECT TMT.[ID], TMT.[Name], TMT.[ParentID], TMT.[CreatedBy], TMT.[ModifiedBy], TMT.[CreatedOn], TMT.[ModifiedOn], TMT.[IsDeleted], TMT.[IsSystem], TMT.[AssignedUserID], TMT.[HostAddress],TMT.[DbSyncStatus], TMT.[MobileSyncStatus], TMT.[Source], TMT.[EquipmentID],MT.[Name] AS [EquipmentName], TMT.[Attribute], TMT.[DataSourceID], TMT.[TagName], TMT.[InstrumentTag], TMT.[HHRange], TMT.[HRange], TMT.[LRange], TMT.[LLRange],TMT.[ColorGTHH], TMT.[ColorBWHHH], TMT.[ColorBWHL], TMT.[ColorBWLLL], TMT.[ColorLTLL], TMT.[DocumentGTHH], TMT.[DocumentBWHHH], TMT.[DocumentBWHL], TMT.[DocumentBWLLL], TMT.[DocumentLTLL],TMT.[Type], TMT.[IsXBatchTag], IIF(TMT.[Name] like '%Weight%', 'Weight', IIF(TMT.[Name] like '%IsStart%' OR TMT.[Name] like '%IsHold%' OR TMT.[Name] like '%IsRestart%' OR TMT.[Name] like '%IsAbort%' OR TMT.[Name] like '%IsReset%', 'Command',IIF(TMT.[Name] like '%IsReady%' OR TMT.[Name] like '%IsHeld%' OR TMT.[Name] like '%IsRun%' OR TMT.[Name] like '%IsDone%' OR TMT.[Name] like '%IsInterlock%' OR TMT.[Name] like '%IsAborted%', 'Status', IIF(TMT.[Name] like '%Error%', 'Interlock', 'Parameter')))) AS [TagType],IIF(TMT.[Name] like '%Weight%', 'Read',IIF(TMT.[Name] like '%IsStart%' OR TMT.[Name] like '%IsHold%' OR TMT.[Name] like '%IsRestart%' OR TMT.[Name] like '%IsAbort%' OR TMT.[Name] like '%IsReset%', 'Write',IIF(TMT.[Name] like '%IsReady%' OR TMT.[Name] like '%IsHeld%' OR TMT.[Name] like '%IsRun%' OR TMT.[Name] like '%IsDone%' OR TMT.[Name] like '%IsInterlock%' OR TMT.[Name] like '%IsAborted%', 'Read', IIF(TMT.[Name] like '%Error%', 'Read', 'Parameter')))) AS [FunctionType] FROM [XStudio_DOW].[dbo].[Motor_Tag_Mapping_Tbl] AS TMT WITH(NOLOCK) JOIN [XStudio_DOW].[dbo].[Motor_Mst_Tbl] AS MT WITH(NOLOCK) ON MT.[ID]=TMT.[EquipmentID] WHERE TMT.[IsDeleted] = 0Union all SELECT TMT.[ID], TMT.[Name], TMT.[ParentID], TMT.[CreatedBy], TMT.[ModifiedBy], TMT.[CreatedOn], TMT.[ModifiedOn], TMT.[IsDeleted], TMT.[IsSystem], TMT.[AssignedUserID], TMT.[HostAddress],TMT.[DbSyncStatus], TMT.[MobileSyncStatus], TMT.[Source], TMT.[EquipmentID],MT.[Name] AS [EquipmentName], TMT.[Attribute], TMT.[DataSourceID], TMT.[TagName], TMT.[InstrumentTag], TMT.[HHRange], TMT.[HRange], TMT.[LRange], TMT.[LLRange],TMT.[ColorGTHH], TMT.[ColorBWHHH], TMT.[ColorBWHL], TMT.[ColorBWLLL], TMT.[ColorLTLL], TMT.[DocumentGTHH], TMT.[DocumentBWHHH], TMT.[DocumentBWHL], TMT.[DocumentBWLLL], TMT.[DocumentLTLL],TMT.[Type], TMT.[IsXBatchTag], IIF(TMT.[Name] like '%Weight%', 'Weight', IIF(TMT.[Name] like '%IsStart%' OR TMT.[Name] like '%IsHold%' OR TMT.[Name] like '%IsRestart%' OR TMT.[Name] like '%IsAbort%' OR TMT.[Name] like '%IsReset%', 'Command',IIF(TMT.[Name] like '%IsReady%' OR TMT.[Name] like '%IsHeld%' OR TMT.[Name] like '%IsRun%' OR TMT.[Name] like '%IsDone%' OR TMT.[Name] like '%IsInterlock%' OR TMT.[Name] like '%IsAborted%', 'Status', IIF(TMT.[Name] like '%Error%', 'Interlock', 'Parameter')))) AS [TagType],IIF(TMT.[Name] like '%Weight%', 'Read',IIF(TMT.[Name] like '%IsStart%' OR TMT.[Name] like '%IsHold%' OR TMT.[Name] like '%IsRestart%' OR TMT.[Name] like '%IsAbort%' OR TMT.[Name] like '%IsReset%', 'Write',IIF(TMT.[Name] like '%IsReady%' OR TMT.[Name] like '%IsHeld%' OR TMT.[Name] like '%IsRun%' OR TMT.[Name] like '%IsDone%' OR TMT.[Name] like '%IsInterlock%' OR TMT.[Name] like '%IsAborted%', 'Read', IIF(TMT.[Name] like '%Error%', 'Read', 'Parameter')))) AS [FunctionType] FROM [XStudio_DOW].[dbo].[Pump_Tag_Mapping_Tbl] AS TMT WITH(NOLOCK) JOIN [XStudio_DOW].[dbo].[Pump_Mst_Tbl] AS MT WITH(NOLOCK) ON MT.[ID]=TMT.[EquipmentID] WHERE TMT.[IsDeleted] = 0
GO


